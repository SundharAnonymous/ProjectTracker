<app-navigationbar></app-navigationbar>
<body>
    <section>
     <div class="imgBx">
         <img style="z-index: -1;" src="assets/images/rectangle1466.jpg" alt="">
         <!-- <header>
             <div class="logo">
                 <img src="assets/images/rectangle_1462.png" alt="">
             </div>
             
             <div class="userwrapper">
                 <img  src="assets/images/user.png" alt="">
                 <div>
                     <select class="userprofile"name="user" id="ufser">
                         <option value="Logout">Logout</option>
                         <option value="Change-Password">Change-Password</option>
                         <option value="Settings">Settings</option>
                     </select>
                 </div>
 
             </div>
         </header> -->
             <div class="innerBx">
                 <div class="projects">
                     <div class="card">
                         <div class="cardheader">
                             <h2>Project Details</h2>
                         </div>
                         <div class="cardbuttons">
                             <!-- <input type="text"> -->
                             <input type="text" [(ngModel)]="projectName" placeholder="Search Projects" />
                             
                             <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
                             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                             <button class="create invoicebutton"  (click)="invoiceRB()"  [hidden] ="invoiceTable">Add Invoice &nbsp; <span class="addbutton">+</span></button>
                             <button class="create invoicebutton"   style="padding: 13px 9px 16px 8px !important;" (click)="invoicepage()" [hidden] ="!invoiceTable">Proceed</button>
                             <button class="btn btn-info btn-lg sortby"  (click)="sortDataId('projectID')">Sort
                               <span class="glyphicon glyphicon-sort" style="color:#01008C; "></span> 
                         </button>

                             <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
                             <button (click)="createprojectpage()" class="create">Create &nbsp; <span class="addbutton">+</span></button>

                             
                         </div>
                         <div class="cardbody">
                             <span class=noprojectmsg *ngIf="emptyflag==true">No Projects to Display</span>
                            <table id="myTable" class="table-responsive" >
                                <thead>
                                    <tr>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td>Project Id <span (click)="sortDataId('projectID')" class="glyphicon glyphicon-sort"></span></td>
                                        <td>Project Name  </td>
                                        <span style="left: -20px;
                                        top: 20px;"(click)="sortDataName('projectName')" class="glyphicon glyphicon-sort"></span> 
                                        <td>Status<span style="left: 5px;" (click)="sortDataName('projectName')" class="glyphicon glyphicon-sort"></span></td>
                                        <td>TRD Received</td> 
                                        <span (click)="sortDataTRD('isTRDReceived')" class="glyphicon glyphicon-sort tdsort"></span>
                                        <td>CRD Sent</td>
                                        <span (click)="sortDataCRD('isCRDSent')" class="glyphicon glyphicon-sort tdsort"></span>
                                        <td>PO Received from Airbus</td>
                                        <span (click)="sortDataPOAB('poReceivedFromAirbus')" class="glyphicon glyphicon-sort tdsort"></span>
                                        <td>PO Received from AKKA</td>
                                        <span (click)="sortDataPOAK('poReceivedFromAKKA')" class="glyphicon glyphicon-sort tdsort"></span>
                                        <td>Project Value</td>
                                        <span (click)="sortDataPV('projectValue')" class="glyphicon glyphicon-sort tdsort"></span>
                                        <td>LTI Value</td>
                                        <span (click)="sortDataLV('ltiValue')" class="glyphicon glyphicon-sort tdsort"></span>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr  *ngFor="let data of groupedData | customerEmailFilter:projectName;"  [ngSwitch]="data.status" >
                                        <td [hidden] ="invoiceTable" ><button style="font-size: 21px; background-color: transparent; border: transparent; "(click)="EditProject(data.pkguid)" > <i class="fa fa-edit"></i></button></td>
                                        <td  [hidden] ="!invoiceTable" style="padding: 11.9px 28px 11.9px 40px;"><input type="radio" id="html" name="fav_language" value="HTML" (click)="RadioValue(data.pkguid)"></td>
                                        <td  [hidden] ="!invoiceTable"></td>
                                        <td   [hidden] ="invoiceTable">                                           
                                              <button  class="w3-text-black material-icons" style="background: transparent; border: transparent;" (click)="ViewModelDelete(data.pkguid)">delete</button>
                                       </td>
 

                                      <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
                                        <td (click)="ViewDetailsPage(data.pkguid)" style="cursor: pointer;">{{data.projectID}}</td>
                                        <td (click)="ViewDetailsPage(data.pkguid)" style="cursor: pointer;">{{data.projectName}}</td>
                                        <td></td>
                                        <td *ngSwitchCase=0>Opportunity</td>
                                        <td *ngSwitchCase=1>AwaitingTRD</td>
                                        <td *ngSwitchCase=2>AwaitingPO</td>
                                        <td *ngSwitchCase=3>InProgress</td>
                                        <td *ngSwitchCase=4>OnHold</td>
                                        <td *ngSwitchCase=5>Delivered</td>
                                        <td *ngSwitchCase=6>Invoiced</td>
                                        <td *ngSwitchCase=7>Closed</td>
                                        <td *ngSwitchCase=8>Cancelled</td>
                                        <td>{{data.isTRDReceived}}</td>
                                        <td></td>
                                        <td>{{data.isCRDSent}}</td>
                                        <td></td>
                                        <td>{{data.poReceivedFromAirbus}}</td>
                                        <td></td>
                                        <td>{{data.poReceivedFromAKKA}}</td>
                                        <td></td>
                                        <td [ngSwitch]="data.currencyID"> <span *ngIf="data.projectValue"><span *ngSwitchCase=1>€</span>
                                            <span *ngSwitchCase=2>$</span>
                                            <span *ngSwitchCase=3>₹</span>
                                            <span *ngSwitchCase=4>£</span>{{data.projectValue}}</span></td>
                                        <td></td>
                                        <td [ngSwitch]="data.currencyID"><span *ngIf="data.ltiValue"><span *ngSwitchCase=1>€</span>
                                            <span *ngSwitchCase=2>$</span>
                                            <span *ngSwitchCase=3>₹</span>
                                            <span *ngSwitchCase=4>£</span>{{data.ltiValue}}</span></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                     </div>
                 </div>
     
             </div>
         
         
         
     </div>
 </section>
 </body>
 